import{d4 as f,d5 as k,d7 as y,dO as w,d6 as l,de as C}from"./app.Dbs6V_q1.js";import{r as i}from"./index.Crn7-fJZ.js";import{n as g}from"./ScreenLayout-C2Le_YIv.CCTYs10k.js";import{C as h}from"./circle-alert.CDkelVMx.js";import{C as v}from"./circle-check-big.BEG3gtjL.js";import{c as b}from"./createLucideIcon.RSj0tFkk.js";import"./ModalHeader-CSfzkWxZ.KQF0IT9H.js";import"./Screen-5StC6JLQ.BNbtfsff.js";import"./index-Dq_xe9dz.CYFAvuPJ.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],x=b("ban",S),R=({appName:r,success:a,error:e,onRevoke:t,onDeny:s,onClose:o})=>l.jsx(g,a||e?{title:e?"Something went wrong":"Success!",subtitle:e?"Please try again.":"You've successfully revoked permissions.",icon:e?h:v,iconVariant:e?"error":"success",onBack:o,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${r} will no longer be able to use this wallet on your behalf when you are not online.`,icon:x,primaryCta:{label:"Confirm",onClick:t},secondaryCta:{label:"Deny",onClick:s},onBack:o,watermark:!0}),M={component:()=>{let{data:r}=f(),a=k(),{closePrivyModal:e}=y(),[t,s]=i.useState(!1),[o,m]=i.useState(),{onRevoke:u,onSuccess:d,onError:p}=r.delegatedActions.revoke,n=async()=>{t?d():p(o??new C("User declined revoking access to their delegated wallet.")),e({shouldCallAuthOnSuccess:!1})};return i.useEffect((()=>{if(!t&&!o)return;let c=setTimeout(n,w);return()=>clearTimeout(c)}),[t,o]),l.jsx(R,{appName:a.name,success:t,error:o,onRevoke:async()=>{try{await u(),s(!0)}catch(c){m(c)}},onDeny:()=>{n()},onClose:n})}};export{M as DelegatedActionsRevokeScreen,R as DelegatedActionsRevokeScreenView,M as default};
